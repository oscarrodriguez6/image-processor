<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galería de Imágenes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="css/styles.css">
</head>
<body>

	<div class="container-fluid mt-4" style="width: 90%">
	    <h2 class="text-center">Galería de Imágenes</h2>
	    <div class="row">
	        <!-- Columna para el formulario -->
	        <div class="col-md-3">
	            <form id="searchForm">
					<div class="mb-3">
					    <input type="text" id="search" class="form-control" placeholder="Buscar por metadatos...">
					</div>
					<div class="mb-3">
					    <input type="date" id="searchDateDesde" class="form-control" placeholder="Fecha desde">
					</div>
					<div class="mb-3">
					    <input type="date" id="searchDateHasta" class="form-control" placeholder="Fecha hasta">
					</div>
	                <button type="submit" class="btn btn-primary w-100">Buscar</button>
	            </form>
				</br>

				<form id="CargarForm">
				    <div class="mb-3">
				        <input type="file" id="cargarCarpeta" class="form-control" webkitdirectory directory multiple>
				        <label for="cargarCarpeta">Cargar las imágenes de una carpeta</label>
				    </div>
				    <div class="mb-3">
				        <input type="file" id="CargarImagenes" class="form-control" multiple>
				        <label for="CargarImagenes">Cargar imágenes individualmente</label>
				    </div>
				    <button type="submit" class="btn btn-primary w-100">Enviar</button>
				</form>
				<div id="error-message" class="alert alert-danger" style="display: none;"></div>
				<div id="success-message" class="alert alert-success" style="display: none;"></div>

				<!-- Contenedor del overlay de carga -->
				<!-- Contenedor del overlay de carga -->
				<div id="loading-overlay" class="loading-overlay">
				    <div class="loading-content text-center">
				        <div class="spinner-border text-primary" role="status">
				            <span class="visually-hidden">Loading...</span>
				        </div>
				        <p class="mt-3">Procesando...</p>
				    </div>
				</div>
				
				</br>
				<div id="mapaForm" class="mb-3">
				    <a href="/verMapa" class="btn btn-secondary w-100">Ver Mapa</a>
				</div>

	        </div>

				        <!-- Columna para la galería de imágenes -->
	        <div class="col-md-9">
	            <div class="row image-container mt-3" id="gallery"></div>
	        </div>
			
	    </div>
	</div>        
	
    <!-- Modal para mostrar la imagen original -->
	<div class="modal fade" id="imageModal" tabindex="-1">
	    <div class="modal-dialog modal-dialog-fullscreen">
	        <div class="modal-content modal-content-fullscreen">
	            <div class="modal-body modal-body-fullscreen text-center">
	                <img id="fullImage" class="img-fluid img-fullscreen zoomable" src="" alt="Imagen Original">
	            </div>
	        </div>
	    </div>
	</div>

	<script src="js/scripts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.11.6/dist/ffmpeg.min.js"></script>
	<script type="module">
	    import { createFFmpeg, fetchFile } from 'https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.11.6/+esm';
	    const ffmpeg = createFFmpeg({ log: true });
	    await ffmpeg.load();
	</script>

</body>
</html>